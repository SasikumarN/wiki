<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Drawing Graphs using Graphviz</title>
<!-- 2016-11-15 Tue 21:22 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Shi Shougang" />
<link href="../../assets/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="../../assets/bootstrap-responsive.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../../assets/stylesheet.css" />
<script src="assets/js/bootstrap.min.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Drawing Graphs using Graphviz</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Homepage</a></li>
<li><a href="#sec-2">Embedding Dot in Emacs</a></li>
<li><a href="#sec-3">Dot: Hello world</a></li>
<li><a href="#sec-4">Examples</a>
<ul>
<li><a href="#sec-4-1">Simple Graph</a></li>
<li><a href="#sec-4-2">Same Graph, Different Layout</a></li>
<li><a href="#sec-4-3">Simple Digraph (Directional Graph)</a></li>
<li><a href="#sec-4-4">Simple Digraph with Labels</a></li>
<li><a href="#sec-4-5">Same Graph, Different Shape and Colour</a></li>
</ul>
</li>
<li><a href="#sec-5">More Advanced</a>
<ul>
<li><a href="#sec-5-1">Define first</a></li>
<li><a href="#sec-5-2">Records</a></li>
<li><a href="#sec-5-3">Finite State Machine</a></li>
<li><a href="#sec-5-4">Data Flow Diagrams</a></li>
<li><a href="#sec-5-5">Data Flow Diagrams 2</a></li>
<li><a href="#sec-5-6">Object Inheritance</a></li>
<li><a href="#sec-5-7">Entity Relationship</a></li>
</ul>
</li>
<li><a href="#sec-6">cc</a></li>
</ul>
</div>
</div>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Homepage</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>homepage: <a href="http://www.graphviz.org/">http://www.graphviz.org/</a>
</li>
<li>dot guide: <a href="http://www.graphviz.org/pdf/dotguide.pdf">http://www.graphviz.org/pdf/dotguide.pdf</a>
</li>
<li>Output Formats: <a href="http://www.graphviz.org/doc/info/output.html">http://www.graphviz.org/doc/info/output.html</a>
</li>
<li>Command-line Invocation:
<a href="http://graphviz.org/content/command-line-invocation">http://graphviz.org/content/command-line-invocation</a>
</li>
<li>Color Names: <a href="http://www.graphviz.org/content/color-names">http://www.graphviz.org/content/color-names</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Embedding Dot in Emacs</h2>
<div class="outline-text-2" id="text-2">
<p>
check: <a href="http://wiki.dreamrunner.org/public_html/Emacs/org-mode.html#sec-17-1">http://wiki.dreamrunner.org/public_html/Emacs/org-mode.html#sec-17-1</a>
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Dot: Hello world</h2>
<div class="outline-text-2" id="text-3">
<p>
Create a file called <code>hello.gv</code> and input:
</p>
<div class="org-src-container">

<pre class="src src-sh">graph graphname { 
                a -- b; 
                b -- c;
                b -- d;
                d -- a;
        }
</pre>
</div>
<p>
And use the following command to generate the png file:
</p>
<div class="org-src-container">

<pre class="src src-sh">dot -Tpng hello.gv -o hello.png
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Examples<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup></h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Simple Graph</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">

<pre class="src src-sh">graph graphname { 
                a -- b; 
                b -- c;
                b -- d;
                d -- a;
        }
</pre>
</div>


<div class="figure">
<p><img src="./Files/simple_graph.png" alt="simple_graph.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Same Graph, Different Layout</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">

<pre class="src src-sh">graph graphname {
                <span style="color: #eedd82;">rankdir</span>=LR;  //Rank Direction Left to Right
                a -- b; 
                b -- c;
                b -- d;
                d -- a;
        }
</pre>
</div>


<div class="figure">
<p><img src="./Files/simple_lr.png" alt="simple_lr.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">Simple Digraph (Directional Graph)</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">

<pre class="src src-sh">digraph graphname{
                a -&gt; b;
                b -&gt; c;
                a -&gt; c;
        }
</pre>
</div>


<div class="figure">
<p><img src="./Files/direct_graph.png" alt="direct_graph.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">Simple Digraph with Labels</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">

<pre class="src src-sh">digraph graphname{

                T [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Teacher"</span>]      // node T
                P [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Pupil"</span>]  // node P

                T-&gt;P [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Instructions"</span>, <span style="color: #eedd82;">fontcolor</span>=darkgreen] // edge T-&gt;P
}
</pre>
</div>


<div class="figure">
<p><img src="./Files/simple_labels.png" alt="simple_labels.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">Same Graph, Different Shape and Colour</h3>
<div class="outline-text-3" id="text-4-5">
<div class="org-src-container">

<pre class="src src-sh">digraph graphname {
                T [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Teacher"</span> <span style="color: #eedd82;">color</span>=Blue, <span style="color: #eedd82;">fontcolor</span>=Red, <span style="color: #eedd82;">fontsize</span>=24, <span style="color: #eedd82;">shape</span>=box]      // node T
                P [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Pupil"</span> <span style="color: #eedd82;">color</span>=Blue, <span style="color: #eedd82;">fontcolor</span>=Red, <span style="color: #eedd82;">fontsize</span>=24, <span style="color: #eedd82;">shape</span>=box]  // node P

                T-&gt;P [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Instructions"</span>, <span style="color: #eedd82;">fontcolor</span>=darkgreen] // edge T-&gt;P
}
</pre>
</div>


<div class="figure">
<p><img src="./Files/diff_shape_colour.png" alt="diff_shape_colour.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">More Advanced</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1">Define first</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">

<pre class="src src-sh">digraph hierarchy {

                <span style="color: #eedd82;">nodesep</span>=1.0 // increases the separation between nodes

                node [<span style="color: #eedd82;">color</span>=Red,<span style="color: #eedd82;">fontname</span>=Courier,<span style="color: #eedd82;">shape</span>=box] //All nodes will this shape and colour
                edge [<span style="color: #eedd82;">color</span>=Blue, <span style="color: #eedd82;">style</span>=dashed] //All the lines look like this

                Headteacher-&gt;{Deputy1 Deputy2 BusinessManager}
                Deputy1-&gt;{Teacher1 Teacher2}
                BusinessManager-&gt;ITManager
                {<span style="color: #eedd82;">rank</span>=same;ITManager Teacher1 Teacher2}  // Put them on the same level
}
</pre>
</div>



<div class="figure">
<p><img src="./Files/define_first.png" alt="define_first.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2">Records</h3>
<div class="outline-text-3" id="text-5-2">
<p>
You can now use HTML to define these sort of blocks. 
</p>

<div class="org-src-container">

<pre class="src src-sh">digraph structs {
        node[<span style="color: #eedd82;">shape</span>=record]
        struct1 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"&lt;f0&gt; left|&lt;f1&gt; mid\ dle|&lt;f2&gt; right"</span>];
        struct2 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"{&lt;f0&gt; one|&lt;f1&gt; two\n\n\n}"</span> <span style="color: #eedd82;">shape</span>=Mrecord];
        struct3 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"hello\nworld |{ b |{c|&lt;here&gt; d|e}| f}| g | h"</span>];
        struct1:f1 -&gt; struct2:f0;
        struct1:f0 -&gt; struct3:f1;
}
</pre>
</div>


<div class="figure">
<p><img src="./Files/records.png" alt="records.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3">Finite State Machine</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">

<pre class="src src-sh">digraph finite_state_machine {
        <span style="color: #eedd82;">rankdir</span>=LR;
        <span style="color: #eedd82;">size</span>=<span style="color: #ffa07a;">"8,5"</span>
        node [<span style="color: #eedd82;">shape</span> = circle];
        S0 -&gt; S1 [ <span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"Lift Nozzle"</span> ]
        S1 -&gt; S0 [ <span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"Replace Nozzle"</span> ]
        S1 -&gt; S2 [ <span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"Authorize Pump"</span> ]
        S2 -&gt; S0 [ <span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"Replace Nozzle"</span> ]
        S2 -&gt; S3 [ <span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"Pull Trigger"</span> ]
        S3 -&gt; S2 [ <span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"Release Trigger"</span> ]
}
</pre>
</div>


<div class="figure">
<p><img src="./Files/fsm.png" alt="fsm.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4">Data Flow Diagrams</h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">

<pre class="src src-sh">digraph dfd{    
        node[<span style="color: #eedd82;">shape</span>=record]
        store1 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"&lt;f0&gt; left|&lt;f1&gt; Some data store"</span>];
        proc1 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"{&lt;f0&gt; 1.0|&lt;f1&gt; Some process here\n\n\n}"</span> <span style="color: #eedd82;">shape</span>=Mrecord];
        enti1 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Customer"</span> <span style="color: #eedd82;">shape</span>=box];
        store1:f1 -&gt; proc1:f0;
        enti1-&gt; proc1:f0;
}
</pre>
</div>


<div class="figure">
<p><img src="./Files/dfd.png" alt="dfd.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5">Data Flow Diagrams 2</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">

<pre class="src src-sh">digraph dfd2{
        node[<span style="color: #eedd82;">shape</span>=record]
        subgraph level0{
        enti1 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Customer"</span> <span style="color: #eedd82;">shape</span>=box];
        enti2 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"Manager"</span> <span style="color: #eedd82;">shape</span>=box];
        }
        subgraph cluster_level1{
                        <span style="color: #eedd82;">label</span> =<span style="color: #ffa07a;">"Level 1"</span>;
                        proc1 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"{&lt;f0&gt; 1.0|&lt;f1&gt; One process here\n\n\n}"</span> <span style="color: #eedd82;">shape</span>=Mrecord];
                        proc2 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"{&lt;f0&gt; 2.0|&lt;f1&gt; Other process here\n\n\n}"</span> <span style="color: #eedd82;">shape</span>=Mrecord];
                        store1 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"&lt;f0&gt;    |&lt;f1&gt; Data store one"</span>];
                        store2 [<span style="color: #eedd82;">label</span>=<span style="color: #ffa07a;">"&lt;f0&gt;   |&lt;f1&gt; Data store two"</span>];
                        {<span style="color: #eedd82;">rank</span>=same; store1, store2}

        }
        enti1 -&gt; proc1
        enti2 -&gt; proc2
        store1 -&gt; proc1
        store2 -&gt; proc2
        proc1 -&gt; store2
        store2 -&gt; proc1 
}
</pre>
</div>


<div class="figure">
<p><img src="./Files/dfd2.png" alt="dfd2.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-6" class="outline-3">
<h3 id="sec-5-6">Object Inheritance</h3>
<div class="outline-text-3" id="text-5-6">
<div class="org-src-container">

<pre class="src src-sh">digraph obj{
        node[<span style="color: #eedd82;">shape</span>=record];
        <span style="color: #eedd82;">rankdir</span>=<span style="color: #ffa07a;">"BT"</span>;

        teacher [<span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"{&lt;f0&gt; Teacher|&lt;f1&gt; \n  |&lt;f2&gt; \n   }"</span>];
        course [<span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"{&lt;f0&gt; Course|&lt;f1&gt; \n  |&lt;f2&gt; \n   }"</span>];
        student [<span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"{&lt;f0&gt; Student|&lt;f1&gt; \n  |&lt;f2&gt; \n   }"</span>];
        lesson [<span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"{&lt;f0&gt; Lesson |&lt;f1&gt; \n  |&lt;f2&gt; \n   }"</span>];
        tutorial [<span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"{&lt;f0&gt; Tutorial|&lt;f1&gt; \n  |&lt;f2&gt; \n   }"</span>];
        assessment[<span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"{&lt;f0&gt; Assessment|&lt;f1&gt; \n  |&lt;f2&gt; \n   }"</span>];
        coursework [<span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"{&lt;f0&gt; Coursework|&lt;f1&gt; \n  |&lt;f2&gt; \n   }"</span>];
        exam [<span style="color: #eedd82;">label</span> = <span style="color: #ffa07a;">"{&lt;f0&gt; Exam|&lt;f1&gt; \n  |&lt;f2&gt; \n   }"</span>];

        {<span style="color: #eedd82;">rank</span>=same; teacher course student}

        teacher-&gt;course [<span style="color: #eedd82;">dir</span>=<span style="color: #ffa07a;">"forward"</span>,<span style="color: #eedd82;">arrowhead</span>=<span style="color: #ffa07a;">"none"</span>,<span style="color: #eedd82;">arrowtail</span>=<span style="color: #ffa07a;">"normal"</span>,<span style="color: #eedd82;">headlabel</span>=<span style="color: #ffa07a;">"1"</span>,<span style="color: #eedd82;">taillabel</span>=<span style="color: #ffa07a;">"1.."</span>];
        student-&gt;course [<span style="color: #eedd82;">dir</span>=<span style="color: #ffa07a;">"forward"</span>,<span style="color: #eedd82;">arrowhead</span>=<span style="color: #ffa07a;">"none"</span>,<span style="color: #eedd82;">arrowtail</span>=<span style="color: #ffa07a;">"normal"</span>,<span style="color: #eedd82;">headlabel</span>=<span style="color: #ffa07a;">"1"</span>,<span style="color: #eedd82;">taillabel</span>=<span style="color: #ffa07a;">"1.."</span>];
        lesson-&gt;course [<span style="color: #eedd82;">dir</span>=<span style="color: #ffa07a;">"forward"</span>,<span style="color: #eedd82;">arrowhead</span>=<span style="color: #ffa07a;">"diamond"</span>,<span style="color: #eedd82;">arrowtail</span>=<span style="color: #ffa07a;">"normal"</span>];
        tutorial-&gt;course [<span style="color: #eedd82;">dir</span>=<span style="color: #ffa07a;">"forward"</span>,<span style="color: #eedd82;">arrowhead</span>=<span style="color: #ffa07a;">"diamond"</span>,<span style="color: #eedd82;">arrowtail</span>=<span style="color: #ffa07a;">"normal"</span>];
        assessment-&gt;course [<span style="color: #eedd82;">dir</span>=<span style="color: #ffa07a;">"forward"</span>,<span style="color: #eedd82;">arrowhead</span>=<span style="color: #ffa07a;">"diamond"</span>,<span style="color: #eedd82;">arrowtail</span>=<span style="color: #ffa07a;">"normal"</span>];
        coursework-&gt;assessment;
        exam-&gt;assessment;

}
</pre>
</div>


<div class="figure">
<p><img src="./Files/obj.png" alt="obj.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-7" class="outline-3">
<h3 id="sec-5-7">Entity Relationship</h3>
<div class="outline-text-3" id="text-5-7">
<div class="org-src-container">

<pre class="src src-sh">digraph ER{
        node[<span style="color: #eedd82;">shape</span>=box];
        Book;
        Customer;
        Loan;
        {<span style="color: #eedd82;">rank</span>=same;Book,Customer,Loan}
        Book-&gt;Loan[<span style="color: #eedd82;">dir</span>=<span style="color: #ffa07a;">"forward"</span>,<span style="color: #eedd82;">arrowhead</span>=<span style="color: #ffa07a;">"crow"</span>,<span style="color: #eedd82;">arrowtail</span>=<span style="color: #ffa07a;">"normal"</span>];
        Customer-&gt;Loan[<span style="color: #eedd82;">dir</span>=<span style="color: #ffa07a;">"forward"</span>,<span style="color: #eedd82;">arrowhead</span>=<span style="color: #ffa07a;">"crow"</span>,<span style="color: #eedd82;">arrowtail</span>=<span style="color: #ffa07a;">"normal"</span>];
}
</pre>
</div>


<div class="figure">
<p><img src="./Files/entity_relation.png" alt="entity_relation.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">cc</h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p class="footpara">
<a href="http://www.tonyballantyne.com/graphs.html">http://www.tonyballantyne.com/graphs.html</a>
</p></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: Shi Shougang</p>
<p class="date">Created: 2016-11-15 Tue 21:22</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
